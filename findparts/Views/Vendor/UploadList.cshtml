@using Findparts.Models.Vendor
@using Findparts.Core
@model VendorUploadListViewModel

@{ 
    ViewBag.Title = "Upload List";
}

@section featured_content
{
    <h1>@ViewBag.Title.</h1>
}

<div id="panList">
    <a href="@Url.Action("UploadCapability", "Vendor")" class="btn btn-primary btn-spacer">Upload @(Config.PortalCode == 0 ? "Capability" : "✈ Spare Part") List</a>
    @*<a href="@Url.Action("UploadAchievement", "Vendor")" class="btn btn-primary btn-spacer">Upload Workscope Icon List</a>*@
    <a href="@Url.Action("DownloadMasterList", "Vendor")" class="btn btn-primary btn-spacer">Download Master List</a>
    <table class="table table-condensed" cellspacing="0" rules="all" border="1" style="border-collapse: collapse;">
        <caption>@Model.VendorCapabilityList.Count Capability Lists found</caption>
        <tr>
            <th>Date Created</th>
            <th>File Type</th>
            <th>Listing Type</th>
            <th>Approvd by @Config.PortalName</th>
            <th>Comments</th>
            <th>Download File</th>
            <th>Delete</th>
        </tr>
        @foreach (var item in Model.VendorCapabilityList)
        {
            <tr>
                <td><a href="@Url.Action("UploadCapability", "Vendor", new { vendorListId = item.Id })">@item.DateCreated.ToString("MMM d yyyy h:mm tt")</a></td>
                <td>@item.FileType</td>
                <td>@(item.ReplaceList ? "Replaced existing" : "Added to existing")</td>
                <td>
                    @if (item.DateApproved.HasValue)
                    {
                        <text>@item.DateApproved.Value.ToString("MMM d yyyy h:mm tt")</text>
                    }
                </td>
                <td>@item.Comments</td>
                <td><a target="_blank" href="@Url.Action("DownloadVendorList", "Vendor", new { vendorListId = item.Id })">@item.FileType</a></td>
                <td>
                    @if (!item.DateApproved.HasValue)
                    {
                        <a href="@Url.Action("DeleteVendorList", "Vendor", new { vendorListId = item.Id })" class="btn btn-danger"><span class='glyphicon glyphicon-remove'></span></a>
                    }
                </td>
            </tr>
        }
    </table>
    @*
        <table class="table table-condensed" cellspacing="0" rules="all" border="1" style="border-collapse: collapse;">
            <caption>@Model.VendorAchievementList.Count Workscope Icon Lists found</caption>
            <tr>
                <th>Date Created</th>
                <th>File Type</th>
                <th>Workscope Icon Type</th>
                <th>Approvd by @Config.PortalName</th>
                <th>Comments</th>
                <th>Download File</th>
                <th>Delete</th>
            </tr>
            @foreach (var item in Model.VendorAchievementList)
            {
                <tr>
                    <td><a href="@Url.Action("UploadAchievement", "Vendor", new { vendorAchievementId = item.Id })">@item.DateCreated.ToString("MMM d yyyy h:mm tt")</a></td>
                    <td>@item.FileType</td>
                    <td>@item.AchievementType</td>
                    <td>
                        @if (item.DateApproved.HasValue)
                        {
                            <text>@item.DateApproved.Value.ToString("MMM d yyyy h:mm tt")</text>
                        }
                    </td>
                    <td>@item.Comments</td>
                    <td><a target="_blank" href="@Url.Action("DownloadAchievement", "Vendor", new { vendorAchievementId = item.Id })">@item.FileType</a></td>
                    <td>
                        @if (!item.DateApproved.HasValue)
                        {
                            <a href="@Url.Action("DeleteAchievement", "Vendor", new { vendorAchievementId = item.Id })" class="btn btn-danger"><span class='glyphicon glyphicon-remove'></span></a>
                        }
                    </td>
                </tr>
            }
        </table>
    *@
</div>